(function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],u=0,f=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/RSS-feed-aggregator-client/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"07fd":function(e,t,n){},"4c6c":function(e,t,n){"use strict";n("659b")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("5f5b"),o=n("b1e0"),i=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("RSSParentComponent")],1)}),l=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{attrs:{type:"light",variant:"faded"}},[n("b-navbar-brand",{attrs:{href:"#",active:""}},[n("h4",[n("b",[e._v("RSS Feed Aggregator")])])]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",[n("b-nav-item",{attrs:{href:"https://github.com/anaswaratrajan/RSS-feed-aggregator-client",active:""}},[n("b-icon",{attrs:{icon:"github","aria-hidden":"true"}})],1)],1)],1)],1)},c=[],d={name:"Header"},u=d,f=n("2877"),b=Object(f["a"])(u,s,c,!1,null,null,null),p=b.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-progress",{staticClass:"w-100",attrs:{variant:"info",max:e.maxLoadingTime,height:".3rem"}},[n("b-progress-bar",{attrs:{value:e.loadingTime}})],1),n("SearchBar",{on:{"get-feed":e.getFeed}}),e.showFeedCard?n("b-card",{attrs:{"no-body":""}},[n("b-nav",{directives:[{name:"b-scrollspy",rawName:"v-b-scrollspy:nav-scroller",arg:"nav-scroller"}],attrs:{slot:"header",pills:"",small:""},slot:"header"},[n("b-nav-item",{attrs:{href:"#rss-feed-table"}},[e._v("Search feed")]),n("b-nav-item",{attrs:{href:"#daily-feed-table"}},[e._v("Daily feed")])],1),n("b-card-body",{ref:"content",staticStyle:{position:"relative",height:"438px",width:"fit-content","overflow-y":"scroll"},attrs:{id:"nav-scroller"}},[e.queryDone?n("RSSFeedTable",{attrs:{feed:e.feed}}):e._e(),n("DailyFeedTable")],1)],1):e._e()],1)},m=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"search-bar",attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{sm:"8"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.feedURL,expression:"feedURL"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:"Enter RSS feed link"},domProps:{value:e.feedURL},on:{input:function(t){t.target.composing||(e.feedURL=t.target.value)}}})]),n("b-col",{attrs:{sm:"2"}},[n("button",{staticClass:"search-button btn btn-info btn-block",attrs:{type:"button"},on:{click:function(t){return e.$emit("get-feed",e.feedURL)}}},[e._v(" get feed ")])]),n("b-col",{attrs:{sm:"2"}},[n("button",{staticClass:"search-button btn btn-outline-info btn-block",attrs:{type:"button"},on:{click:e.setURLInLocalStorage}},[e._v(" + daily feed ")])])],1),n("b-row",[n("div",{staticClass:"example"},[e._v(" Eg. https://home.cern/api/news/news/feed.rss ")])])],1)},v=[],y=(n("6762"),n("2fdb"),n("3b2b"),"https://rss-feed-aggregater-server.herokuapp.com"),S="1",_=function(e){return e.length>0?!!T(e)||(console.log(e),alert("Enter valid URL"),!1):(alert("Enter URL"),!1)},T=function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)},w=function(e){alert("Added "+e+" to daily news feed"),window.location.reload()},L=function(e){if(console.log(e),"undefined"==typeof localStorage.getItem("feedURLs"))console.log(e+" set"),localStorage.setItem("feedURLs",JSON.stringify([e])),w(e);else{var t=JSON.parse(localStorage.getItem("feedURLs"));console.log(t),null==t?(localStorage.setItem("feedURLs",JSON.stringify([e])),w(e)):t.includes(e)?alert("Already added to daily news feed"):_(e)&&(t.push(e),localStorage.setItem("feedURLs",JSON.stringify(t)),w(e))}},R=function(){return JSON.parse(localStorage.getItem("feedURLs"))},k=function(e){return fetch("".concat(y,"/v").concat(S,"/rss-feed/"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedURL:e})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},x=function(e){return fetch("".concat(y,"/v").concat(S,"/aggregate-feed/"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedURLs:e})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},F={name:"SearchBar",data:function(){return{feedURL:""}},methods:{consoleURL:function(){console.log("haha")},setURLInLocalStorage:function(e){e.preventDefault(),_(this.feedURL.trim())&&L(this.feedURL.trim())}}},I=F,O=(n("c84a"),Object(f["a"])(I,h,v,!1,null,"5ccf85fc",null)),C=O.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"rss-feed-table"}},[e.itemsFetched?n("FeedTable",{attrs:{feed:e.feed,fieldTableId:e.feedTableId,fields:e.fields}}):e._e()],1)},P=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"feed-table",attrs:{fluid:""}},[n("b-row",{attrs:{"align-h":"center"}},[n("b-table",{attrs:{hover:"",id:e.feedTableId,"current-page":e.currentPage,"per-page":e.perPage,items:e.feed,fields:e.fields},scopedSlots:e._u([{key:"table-colgroup",fn:function(t){return e._l(t.fields,(function(e){return n("col",{key:e.key,style:{width:"pubDate"===e.key||"content"===e.key?"10px":"1000px"}})}))}},{key:"cell(title)",fn:function(t){return[n("a",{staticClass:"link-info",attrs:{href:""+t.item.link}},[e._v(e._s(t.item.title))])]}},{key:"cell(pubDate)",fn:function(t){return[e._v(" "+e._s(t.item.pubDate.slice(0,10))+" ")]}},{key:"cell(content)",fn:function(e){return[n("b-button",{staticClass:"mb-2 content",attrs:{variant:"outline-info"},on:{click:e.toggleDetails}},[n("b-icon",{attrs:{icon:"justify","aria-hidden":"true"}})],1)]}},{key:"row-details",fn:function(t){return[n("b-card",[t.item.source?n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"1"}},[n("b",[e._v("Source:")])]),n("b-col",[e._v(e._s(t.item.source))])],1):e._e(),t.item.description?n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"1"}},[n("b",[e._v("Content:")])]),n("b-col",[n("span",{staticClass:"feed-content",domProps:{innerHTML:e._s(t.item.description)}})])],1):e._e()],1)]}}])}),n("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":e.feedTableId,size:"sm",limit:"1",align:"center"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),n("div",{staticClass:"row-no"},[e._v(e._s(this.rows)+" feed items")])],1)],1)},D=[],$={name:"FeedTable",props:{feedTableId:String,feed:Array,fields:Array},computed:{rows:function(){return this.feed.length}},data:function(){return{perPage:6,currentPage:1}}},E=$,z=(n("4c6c"),Object(f["a"])(E,U,D,!1,null,null,null)),J=z.exports,N={name:"RSSFeedTable",components:{FeedTable:J},props:{feed:Array},computed:{itemsFetched:function(){return this.feed.length>0}},data:function(){return{fields:[{key:"title",label:"Items",sortable:!1},{key:"pubDate",label:"published",sortable:!0},{key:"content",label:"content"}],feedTableId:"rss-feed-results"}}},A=N,M=Object(f["a"])(A,j,P,!1,null,null,null),q=M.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"daily-feed-table"}},[e.itemsFetched?n("FeedTable",{attrs:{feed:e.dailyFeed,fieldTableId:e.feedTableId,fields:e.fields}}):e._e()],1)},B=[],G={name:"DailyFeedTable",components:{FeedTable:J},computed:{itemsFetched:function(){return this.dailyFeed.length>0}},mounted:function(){this.$nextTick((function(){var e=this,t=R();null!==t&&x(t).then((function(t){console.log(t.RSSFeedList),e.dailyFeed=t.RSSFeedList}))}))},data:function(){return{fields:[{key:"title",label:"Items"},{key:"pubDate",label:"published",sortable:!0},{key:"content",label:"content"}],dailyFeed:[],feedTableId:"daily-feed-results"}}},K=G,Q=Object(f["a"])(K,H,B,!1,null,null,null),V=Q.exports,W={name:"RSSParentComponent",components:{SearchBar:C,RSSFeedTable:q,DailyFeedTable:V},data:function(){return{feed:Array(),queryDone:!1,loading:!1,loadingTime:0,maxLoadingTime:3}},watch:{loading:function(e,t){var n=this;e!==t&&(this.clearLoadingTimeInterval(),e&&(this.$_loadingTimeInterval=setInterval((function(){n.loadingTime++}),1e3)))},loadingTime:function(e,t){e!==t&&e===this.maxLoadingTime&&(this.loading=!1)}},created:function(){this.$_loadingTimeInterval=null},computed:{showFeedCard:function(){var e=R();return this.queryDone||null!==e}},mounted:function(){this.startLoading()},methods:{getFeed:function(e){var t=this;_(e.trim())&&(this.startLoading(),k(e.trim()).then((function(e){t.feed=e.RSSFeedList,t.feed.length>0?t.queryDone=!0:alert("Error fetching feed")})))},startLoading:function(){this.loading=!0,this.loadingTime=0},clearLoadingTimeInterval:function(){clearInterval(this.$_loadingTimeInterval),this.$_loadingTimeInterval=null}}},X=W,Y=(n("d318"),Object(f["a"])(X,g,m,!1,null,"468dce7c",null)),Z=Y.exports,ee={name:"app",components:{Header:p,RSSParentComponent:Z}},te=ee,ne=(n("034f"),Object(f["a"])(te,i,l,!1,null,null,null)),ae=ne.exports;a["default"].use(r["a"]),a["default"].use(o["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(ae)}}).$mount("#app")},"659b":function(e,t,n){},"85ec":function(e,t,n){},"9f7b":function(e,t,n){},c84a:function(e,t,n){"use strict";n("07fd")},d318:function(e,t,n){"use strict";n("9f7b")}});
//# sourceMappingURL=app.722bf32d.js.map